                                                                                                                            <!DOCTYPE html>
<html lang="en">
        <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <title>Troubleshooting &raquo; Bolt Deployer</title>

        <link rel="stylesheet" href="https://bolt.github.io/deployer/css/main.css">
        <link href="https://fonts.googleapis.com/css?family=Source+Code+Pro|Source+Sans+Pro:300,400,600,700" rel="stylesheet">
        <script defer src="https://use.fontawesome.com/releases/v5.0.3/js/all.js"></script>
    </head>    <body>

        <div class="docs columns is-gapless is-desktop">
            <aside class="docs__sidebar">
                <div class="docs__sidebar--brand">
                    <div class="brand">
                        <a class="brand--text" href="https://bolt.github.io/deployer/">
                            Bolt Deployer
                        </a>
                    </div>
                    <button class="button button-bars is-primary is-hidden-desktop">
                        <span class="icon">
                        <i class="fa fa-bars"></i>
                        </span>
                    </button>
                    <button class="button button-search is-primary is-hidden-desktop">
                        <span class="icon">
                        <i class="fa fa-search"></i>
                        </span>
                    </button>
                </div>

                
<div class="docs__sidebar--search">
    <form action="https://bolt.github.io/deployer/search.html" class="control has-icons-right">
        <input class="input" type="text" name="q" id="tipue_search_input" pattern=".{3,}" title="At least 3 characters" placeholder="Search…" required>
        <span class="icon is-small is-right">
            <i class="icon-search"></i>
        </span>
    </form>
</div>

<div class="docs__sidebar--menu">
    <nav id="sidebar" class="menu" role="navigation">
        <ul class="menu-list">
                                                                            <li class="">
                    <a href="https://bolt.github.io/deployer/index.html" class="">
                        Getting Started
                    </a>
                </li>
                                                                            <li class="">
                    <a href="https://bolt.github.io/deployer/requirements.html" class="">
                        System Requirements
                    </a>
                </li>
                                                                            <li class="">
                    <a href="https://bolt.github.io/deployer/installation.html" class="">
                        Installation
                    </a>
                </li>
                                            <li class="divider">Usage</li>
                                                                <li class="">
                    <a href="https://bolt.github.io/deployer/configuration.html" class="">
                        Configuration
                    </a>
                </li>
                                                                            <li class="">
                    <a href="https://bolt.github.io/deployer/initial_run.html" class="">
                        Initial run
                    </a>
                </li>
                                                                            <li class="">
                    <a href="https://bolt.github.io/deployer/regular_usage.html" class="">
                        Regular usage
                    </a>
                </li>
                                            <li class="divider">Other</li>
                                                                <li class="">
                    <a href="https://bolt.github.io/deployer/tips.html" class="">
                        Tips
                    </a>
                </li>
                                                                            <li class="">
                    <a href="https://bolt.github.io/deployer/troubleshooting.html" class="is-active">
                        Troubleshooting
                    </a>
                </li>
                    </ul>
    </nav>
</div>

                <div class="docs__sidebar--footer is-hidden-touch">
                    <p class="text-muted">
                        Generated with ease by: <br>
                        <a href="http://couscous.io" title="Markdown website generator">Couscous</a> |
                        <a href="https://github.com/bolt/Extension-docs-template" title="Bolt extension documentation template">Bolt template</a>.
                    </p>
                </div>
            </aside>
            <main class="docs__main">

                <header class="docs__main--header">
    <div class="pagetitle">
        Troubleshooting
    </div>

            <a href="https://github.com/bolt/deployer" class="button is-info is-hidden-touch" aria-label="This extension on GitHub">
            <span class="icon is-small">
                <i class="fas fa-home"></i>
            </span>
            <span>GitHub</span>
        </a>
        <a href="https://github.com/bolt/deployer/fork" class="button is-info is-hidden-touch" aria-label="Fork bolt/deployer on GitHub">
            <span class="icon is-small">
                <i class="fas fa-code-branch"></i>
            </span>
            <span>Fork</span>
        </a>
                        <a href="https://github.com/bolt/deployer/edit/main/docs/troubleshooting.md" class="button is-info is-hidden-touch" aria-label="Edit the contents of this page on GitHub">
            <span class="icon is-small">
                <i class="fab fa-github"></i>
            </span>
            <span>Edit this page</span>
        </a>
        
    </header>
                <div class="docs__main--body">
                    <section id="content" class="content">
                        <h1 id="troubleshooting">Troubleshooting</h1>
<h2 id="debugging-a-step">Debugging a step</h2>
<p>When something is breaking (chances are this is &quot;when&quot;, not &quot;if&quot;), you'll want
to dig in to see what's causing the issue. It's probably redundant to mention
here, but often reading the text in the big red error will tell you what's
causing the breakage.</p>
<p><img src="https://user-images.githubusercontent.com/1833361/117442709-6a838b80-af37-11eb-983e-123d759320a8.png" alt="borken" /></p>
<p>In the screenshot above you'll notice that it breaks on <code>deploy:update_code</code>,
as indicated by the <code>➤</code>, before Deployer wraps up the failed deploy. You can
investigate by running just that step, and outputting verbose debug
information:</p>
<pre><code class="language-bash">dep deploy:update_code -vvv</code></pre>
<p>This will tell you exactly what's it doing behind the screens, and will
probably shed some light on what's going wrong.</p>
<h2 id="restarting-the-webserver">Restarting the webserver</h2>
<p>If you're noticing that after a seemingly succesfull deploy your changes are
not showing up online, it might be that your webserver doesn't recognize that
it needs to look at a different location for the latest deploy.</p>
<p>If this is the case, you'll need to restart the webserver, or just its
<code>php-fpm</code> process. Depending on the server, it can be something like either one
of these:</p>
<pre><code class="language-bash">sudo service php7.3-fpm restart
sudo /etc/init.d/php-fpm restart
sudo service apache restart
sudo service nginx restart</code></pre>
<p>If you don't know, consult your server administrator. When you know what works
for your server update the <code>deploy.php</code> script to do this automatically for you
on each deploy:</p>
<pre><code class="language-php">task('reload:php-fpm', function () {
    // run('sudo /etc/init.d/php-fpm restart');
    run('sudo service php7.3-fpm restart');
});

after('deploy', 'reload:php-fpm');
after('rollback', 'reload:php-fpm');</code></pre>
                    </section>
                </div>
            </main>
        </div>


<script src="//ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>

<script>
var tipuesearch_pages = ["https://bolt.github.io/deployer/index.html", "https://bolt.github.io/deployer/requirements.html", "https://bolt.github.io/deployer/installation.html", "https://bolt.github.io/deployer/configuration.html", "https://bolt.github.io/deployer/initial_run.html", "https://bolt.github.io/deployer/regular_usage.html", "https://bolt.github.io/deployer/tips.html", "https://bolt.github.io/deployer/troubleshooting.html"];
</script>
<script src="https://bolt.github.io/deployer/tipuesearch/tipuesearch_set.js"></script>
<script src="https://bolt.github.io/deployer/tipuesearch/tipuesearch.min.js"></script>
<script src="https://bolt.github.io/deployer/js/bundle.js"></script>
<script>
    $(document).ready(function() {
        $('#tipue_search_input').tipuesearch({
            'mode': 'live',
            'liveDescription': '#content',
            'liveContent': '#content'
        });
    });
</script>
    </body>
</html>
